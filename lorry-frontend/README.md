# Lorry Management Frontend 

This is the **React + Vite** frontend for the Lorry Management System.

It connects to a Spring Boot backend (separate repository) and provides:

- A paginated lorry list
- Create / Edit / Delete lorry entries
- Backend-driven LR number generation
- Autocomplete with keyboard navigation for common fields

> ğŸ”— Backend repository: `https://github.com/purvak91/lorry-management`  
---

## Tech Stack

- **React** (Vite)
- **JavaScript (ES6+)**
- **Fetch API** for HTTP calls
- **CSS** (dark theme, custom modal, table, autocomplete)

---

## Features

### Lorry List

- Loads lorries from the backend using:
  - `GET /api/lorry?page=&size=`
- Displays:
  - LR
  - Lorry number
  - Date
  - From / To locations
  - Consignor name + address
  - Weight
  - Freight
  - Description
- Pagination:
  - Prev / Next buttons
  - Page info (current page, total pages, total records)
  - Smart delete: if the last item on a page is deleted and the page becomes empty, it automatically tries the previous page

### Create / Edit Lorry

- Modal form for:
  - LR (read-only, generated by backend)
  - Lorry number (required)
  - Date
  - From / To
  - Consignor name
  - Consignor address
  - Weight & freight (numeric)
  - Description
- Backend-driven LR via `GET /api/lorry/next-lr`
- Uses `POST /api/lorry` for creation
- Uses `PUT /api/lorry/{lr}` for updates
- Disables buttons while submitting

### Delete Lorry

- Deletes via `DELETE /api/lorry/{lr}`
- After deletion:
  - Reloads the current page
  - If the current page becomes empty and itâ€™s not the first page, it automatically loads the previous page

### Autocomplete & Keyboard Navigation

Autocomplete is available for:

- Lorry number
- From location
- To location
- Consignor name
- Consignor address

Features:

- Dropdown suggestions based on previously loaded data
- Matching:
  - â€œStarts withâ€ matches are prioritized, then â€œcontainsâ€
- Highlighted matching text in suggestions
- Keyboard controls:
  - **â†‘ / â†“** to navigate
  - **Enter** to select
  - **Esc** to close the dropdown

---

## Project Structure

Repository structure (frontend repo):

```text
lorry-management-frontend/
â””â”€â”€ lorry-frontend/
    â”œâ”€â”€ public/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â”œâ”€â”€ CreateOrEditLorryModal.jsx
    â”‚   â”‚   â”œâ”€â”€ LorryTable.jsx
    â”‚   â”‚   â””â”€â”€ PaginationControls.jsx
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â””â”€â”€ LorryListPage.jsx
    â”‚   â”œâ”€â”€ services/
    â”‚   â”‚   â””â”€â”€ lorryApi.js
    â”‚   â”œâ”€â”€ App.jsx
    â”‚   â”œâ”€â”€ App.css
    â”‚   â”œâ”€â”€ index.css
    â”‚   â”œâ”€â”€ main.jsx
    â”‚   â””â”€â”€ assets/
    â”‚       â””â”€â”€ react.svg (Vite default)
    â”œâ”€â”€ .env
    â”œâ”€â”€ package.json
    â”œâ”€â”€ package-lock.json
    â”œâ”€â”€ vite.config.js
    â”œâ”€â”€ index.html
    â””â”€â”€ README.md   
